# 2025-12-30

Reached a milestone: the emulator now supports slow-memory reads for pacing, a TC08 tape image
backend, and both host-side monitor commands and Nova I/O wiring for tape operations. The monitor
gained `tc` status plus `tc0`/`tc1` attach/read/write/verify commands, and the Nova side can move
129-word blocks to and from memory. The dullboy sample now uses slow-memory reads to delay output,
and round-trip tape transfers were verified end-to-end.

Aligned the emulator with the SIMH opcode table by reworking CPU decode/execute paths (MRF/IOT/OPR),
fixing octal literal usage in C# sources, and updating the monitor disassembler to match the new
field layouts. The sample programs were rewritten to SIMH mnemonics and adjusted for addressing
limits (including AC2-based data indexing in the clock program). Added assembly warnings for
duplicate symbol definitions so redefinitions are surfaced without aborting builds.

Added a TRACE/T command to the monitor to single-step with register dumps, later switching the
trace register display to a compact array format. Centralized disassembly into a new
NovaDisassembler so monitor `dis` output is assembler-friendly (canonical mnemonics, proper IOT
pulses, JSR naming), and fixed PC-relative encoding to use PC+1 for SIMH-style addressing. Built a
round-trip property test to assert disassemble→assemble→disassemble stability across all 65,536
words, and added a basic xUnit test project to the solution. Updated the sample assembly set with
new PTR-to-TTO/PTP duplication program and expanded page.asm with working PUTCH and OPRINT helpers.

Fixed binary compatibility with SIMH by switching PC-relative addressing to use the current
instruction word (CPU, assembler, and disassembler), and by implementing shift-through-link in
the ALU so MOVR rotates like SIMH. Updated `asm -l` to print listing-style disassembly, and
adjusted `sd/page.asm` and `sd/clock.asm` to use MOVZR for logical shifts where LINK should be
cleared.
